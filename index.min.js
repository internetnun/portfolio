function storeScrollPosition(){const e=document.querySelector(".site-wrapper");e&&(navigationScrollTop=e.scrollTop)}function restoreScrollPosition(){const e=document.querySelector(".site-wrapper");e&&(e.scrollTop=navigationScrollTop)}function initializeOverlay(){function e(){return window.innerWidth}function t(){const t=e();u.style.transform=t<=479?u.style.transform.replace(/rotate\([^)]+\)/,"rotate(0deg)"):u.style.transform.replace(/rotate\([^)]+\)/,"rotate(-2deg)")}function n(){c.style.display="flex",anime({targets:".about-overlay",opacity:[0,1],duration:225,easing:"easeInQuad",before:function(){u.style.transform="translateY(-100%)",t()}}),e()<=479?anime({targets:".about-popover",scale:[.5,1],translateY:["-100%","0%"],easing:"spring(1, 95, 13, 0)"}):anime({targets:".about-popover",scale:[.5,1],rotate:[0,-2],translateY:["-100%","0%"],easing:"spring(1, 95, 13, 0)"}),anime({targets:"#close-about",rotate:[12,0],translateY:["200%","0%"],easing:"spring(1, 95, 8, 0)",complete:function(){setTimeout(()=>{d.focus()},50)}}),document.addEventListener("keydown",o),c.setAttribute("aria-hidden","false"),c.setAttribute("tabindex","-1")}function a(){anime({targets:".about-overlay",opacity:[1,0],duration:225,easing:"easeInQuad",complete:function(){c.style.display="none",r.focus(),s.style.transform="translateY(0%) rotate(0deg)"}}),e()<=479?anime({targets:".about-popover",scale:[1,.5],translateY:["0%","-100%"],easing:"spring(1, 95, 13, 0)"}):anime({targets:".about-popover",scale:[1,.5],rotate:[-2,0],translateY:["0%","-100%"],easing:"spring(1, 95, 13, 0)"}),anime({targets:"#close-about",rotate:[0,12],translateY:["0%","20%"],easing:"spring(1, 95, 8, 0)"}),document.removeEventListener("keydown",o),c.setAttribute("aria-hidden","true"),c.removeAttribute("tabindex")}function o(e){"Escape"===e.key&&a()}function i(){"flex"===c.style.display&&t()}const r=document.querySelector("#open-about"),s=document.querySelector("#close-about"),l=document.querySelector("#close-about-scrim"),c=document.querySelector(".about-overlay"),u=document.querySelector(".about-popover"),d=document.querySelector("#close-about");r.addEventListener("click",n),s.addEventListener("click",a),l.addEventListener("click",a),u.addEventListener("click",function(e){e.stopPropagation()}),c.addEventListener("keydown",function(e){if("Tab"===e.key){const t=c.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=t[0],a=t[t.length-1];e.shiftKey&&document.activeElement===n?(a.focus(),e.preventDefault()):e.shiftKey||document.activeElement!==a||(n.focus(),e.preventDefault())}}),window.addEventListener("resize",i)}function ScrollBarProgress(){const e=document.querySelector(".project-container").scrollTop,t=document.querySelector(".project-container").scrollHeight,n=document.querySelector(".project-container").clientHeight,a=t-n,o=e/a*79.5,i=Math.min(Math.max(o,0),100);document.querySelector(".scroll-indicator").style.top=`calc(${i}% + 20px)`}const prefersReducedMotion=window.matchMedia("(prefers-reduced-motion: reduce)").matches;let navigationWidth;const updateNavigationWidth=()=>{const e=document.getElementsByClassName("navigation-column").item(0);e&&(navigationWidth=e.offsetWidth)};let navigationScrollTop=0;if(updateNavigationWidth(),window.addEventListener("resize",updateNavigationWidth),!prefersReducedMotion){const e=new Swup({animateHistoryBrowsing:!0,respectReducedMotion:!1,containers:["#project-controller","#navigation-controller"],plugins:[new SwupA11yPlugin,new SwupParallelPlugin({containers:["#project-controller"]}),new SwupJsPlugin({animations:[{from:"/",to:"/project(.*)",in:async()=>{const e=window.innerWidth,t=document.getElementsByClassName("navigation-column").item(0),n=document.getElementsByClassName("project-container").item(0),a=(e-navigationWidth)/2,o=document.querySelector(".mobile-back-button"),i=navigationWidth+a,r=document.querySelector("#project-controller"),s=document.querySelector("#project-controller + #project-controller"),l=document.querySelector("#active");e<=991?await Promise.all([anime({targets:t,before:()=>{t.style.display="flex",restoreScrollPosition(),t.style.width=`${navigationWidth}px`,n.style.position="fixed"},translateX:[`${a}px`,`-${i}px`],easing:"spring(1, 93, 15, 5)",complete:()=>{t.style.transform="none",t.style.position="",t.style.display="",t.style.width="",n.style.position=""}}).finished,anime({targets:n,translateX:[`${i}px`,"0px"],easing:"spring(1, 93, 15, 5)",complete:()=>{n.style.transform="none"}}).finished,anime({targets:r,opacity:[0,1],easing:"easeInOutQuad",duration:250}).finished,anime({targets:s,opacity:[1,0],easing:"easeInOutQuad",duration:200}).finished,anime({targets:l,opacity:[0,1],easing:"easeInOutQuad",duration:250}).finished,anime({targets:o,rotate:[12,0],translateY:["150%","0%"],easing:"spring(.7, 95, 8, 0)",before:()=>{o.style.display="flex"}}).finished]):await Promise.all([anime({targets:t,translateX:[`${a}px`,"0px"],easing:"spring(1, 93, 15, 5)",complete:()=>{t.style.transform="none"}}).finished,anime({targets:n,translateX:["50%","0%"],easing:"spring(1, 93, 15, 5)",complete:()=>{n.style.transform="none"}}).finished,anime({targets:r,opacity:[0,1],easing:"easeInOutQuad",duration:250}).finished,anime({targets:s,opacity:[1,0],easing:"easeInOutQuad",duration:200}).finished,anime({targets:l,opacity:[0,1],easing:"easeInOutQuad",duration:250}).finished,anime({targets:o,rotate:[12,0],translateY:["150%","0%"],easing:"spring(.7, 95, 8, 0)",before:()=>{o.style.display="flex"}}).finished])}},{from:"/project(.*)",to:"/",in:async()=>{const e=window.innerWidth,t=document.getElementsByClassName("navigation-column").item(0),n=t.offsetWidth,a=document.getElementsByClassName("project-container").item(0),o=(e-n)/2,i=document.querySelector(".mobile-back-button"),r=n+o,s=document.querySelector("#project-controller"),l=document.querySelector("#project-controller + #project-controller"),c=document.querySelector("#active");e<=991?await Promise.all([anime({targets:t,before:()=>{a.style.position="fixed",t.style.width=`${n}px`,restoreScrollPosition()},translateX:[`-${r}px`,`${o}px`],easing:"spring(1, 93, 15, 5)",complete:()=>{t.style.transform="translateX(-50%) translateX(50vw)",a.style.position="",t.style.display="",t.style.width=""}}).finished,anime({targets:a,translateX:["0px",`${r}px`],easing:"spring(1, 93, 15, 5)",complete:()=>{a.style.transform="translateX(calc(-40% + 60vw))"}}).finished,anime({targets:s,opacity:[0,1],easing:"easeInOutQuad",duration:250}).finished,anime({targets:l,opacity:[1,0],easing:"easeInOutQuad",duration:200}).finished,anime({targets:c,opacity:[1,0],easing:"easeInOutQuad",duration:250}).finished,anime({targets:i,rotate:[0,12],translateY:["0%","150%"],easing:"spring(.7, 95, 8, 0)",before:()=>{i.style.display="flex"},complete:()=>{i.style.display=""}}).finished]):await Promise.all([anime({targets:t,translateX:["0px",`${o}px`],easing:"spring(1, 93, 15, 5)",complete:()=>{t.style.transform="translateX(-50%) translateX(50vw)"}}).finished,anime({targets:a,translateX:["0%","50%"],easing:"spring(1, 93, 15, 5)",complete:()=>{a.style.transform="translateX(50%)"}}).finished,anime({targets:s,opacity:[0,1],easing:"easeInOutQuad",duration:250}).finished,anime({targets:l,opacity:[1,0],easing:"easeInOutQuad",duration:200}).finished,anime({targets:c,opacity:[1,0],easing:"easeInOutQuad",duration:250}).finished,anime({targets:i,rotate:[0,12],translateY:["0%","150%"],easing:"spring(.7, 95, 8, 0)",before:()=>{i.style.display="none"}}).finished])}},{from:"/project(.*)",to:"/project(.*)",in:async()=>{const e=document.querySelector("#project-controller"),t=document.querySelector("#project-controller + #project-controller"),n=document.querySelector("#active");await Promise.all([anime({targets:e,opacity:{value:[0,1],easing:"easeInOutQuad",duration:250},translateX:{value:["75%","0%"],easing:"spring(1, 93, 16, 5)"}}).finished,anime({targets:t,opacity:{value:[1,0],easing:"easeInOutQuad",duration:200},translateX:{value:["0%","75%"],easing:"spring(1, 93, 16, 5)"}}).finished,anime({targets:n,opacity:[0,1],easing:"easeInOutQuad",duration:250}).finished])}}]})]});document.addEventListener("DOMContentLoaded",function(){function t(){var e=document.querySelectorAll(".project-card");e.forEach(function(e){var t=e.querySelector(".hover-gradient");e.addEventListener("mouseenter",function(){anime({targets:t,opacity:1,duration:300,easing:"easeOutQuad"})}),e.addEventListener("mouseleave",function(){anime({targets:t,opacity:0,duration:300,easing:"easeOutQuad"})})})}t(),e.hooks.on("page:view",()=>{t()})}),e.hooks.on("page:view",()=>{setTimeout(()=>{updateNavigationWidth()},100)}),e.hooks.on("page:view",e=>{initializeOverlay()}),e.hooks.on("visit:start",e=>{const t="/"===e.from.url&&/\/project/.test(e.to.url);/\/project/.test(e.from.url)&&e.to.url;t&&storeScrollPosition()})}document.addEventListener("DOMContentLoaded",function(){initializeOverlay()});const elm=document.querySelector(".project-container");elm.addEventListener("scroll",ScrollBarProgress);