function initializeOverlay(){function e(){return window.innerWidth}function t(){const t=e();u.style.transform=t<=479?u.style.transform.replace(/rotate\([^)]+\)/,"rotate(0deg)"):u.style.transform.replace(/rotate\([^)]+\)/,"rotate(-2deg)")}function n(){c.style.display="flex",anime({targets:".about-overlay",opacity:[0,1],duration:225,easing:"easeInQuad",before:function(){u.style.transform="translateY(-100%)",t()}}),e()<=479?anime({targets:".about-popover",scale:[.5,1],translateY:["-100%","0%"],easing:"spring(.7, 95, 13, 0)"}):anime({targets:".about-popover",scale:[.5,1],rotate:[0,-2],translateY:["-100%","0%"],easing:"spring(.7, 95, 13, 0)"}),anime({targets:"#close-about",rotate:[12,0],translateY:["100%","0%"],easing:"spring(.7, 95, 8, 0)"}),document.addEventListener("keydown",i),c.setAttribute("aria-hidden","false"),c.setAttribute("tabindex","-1"),setTimeout(()=>{d.focus()},50)}function a(){anime({targets:".about-overlay",opacity:[1,0],duration:225,easing:"easeInQuad",complete:function(){c.style.display="none",s.focus()}}),e()<=479?anime({targets:".about-popover",scale:[1,.5],translateY:["0%","-100%"],easing:"spring(.7, 95, 13, 0)"}):anime({targets:".about-popover",scale:[1,.5],rotate:[-2,0],translateY:["0%","-100%"],easing:"spring(.7, 95, 13, 0)"}),anime({targets:"#close-about",rotate:[0,12],translateY:["0%","125%"],easing:"spring(.7, 95, 8, 0)"}),document.removeEventListener("keydown",i),c.setAttribute("aria-hidden","true"),c.removeAttribute("tabindex")}function i(e){"Escape"===e.key&&a()}function o(){"flex"===c.style.display&&t()}const s=document.querySelector("#open-about"),r=document.querySelector("#close-about"),l=document.querySelector("#close-about-scrim"),c=document.querySelector(".about-overlay"),u=document.querySelector(".about-popover"),d=document.querySelector("#close-about");s.addEventListener("click",n),r.addEventListener("click",a),l.addEventListener("click",a),u.addEventListener("click",function(e){e.stopPropagation()}),c.addEventListener("keydown",function(e){if("Tab"===e.key){const t=c.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),n=t[0],a=t[t.length-1];e.shiftKey&&document.activeElement===n?(a.focus(),e.preventDefault()):e.shiftKey||document.activeElement!==a||(n.focus(),e.preventDefault())}}),window.addEventListener("resize",o)}function ScrollBarProgress(){const e=document.querySelector(".project-container").scrollTop,t=document.querySelector(".project-container").scrollHeight,n=document.querySelector(".project-container").clientHeight,a=t-n,i=e/a*79.5,o=Math.min(Math.max(i,0),100);document.querySelector(".scroll-indicator").style.top=`calc(${o}% + 20px)`}let navigationWidth;const updateNavigationWidth=()=>{const e=document.getElementsByClassName("navigation-column").item(0);e&&(navigationWidth=e.offsetWidth)};updateNavigationWidth(),window.addEventListener("resize",updateNavigationWidth);const swup=new Swup({animateHistoryBrowsing:!0,containers:["#project-controller","#navigation-controller"],plugins:[new SwupA11yPlugin,new SwupParallelPlugin({containers:["#project-controller"]}),new SwupJsPlugin({animations:[{from:"/",to:"/project(.*)",in:async()=>{const e=window.innerWidth,t=document.getElementsByClassName("navigation-column").item(0),n=document.getElementsByClassName("project-container").item(0),a=(e-navigationWidth)/2,i=document.querySelector(".mobile-back-button"),o=navigationWidth+a,s=document.querySelector("#project-controller"),r=document.querySelector("#project-controller + #project-controller"),l=document.querySelector("#active");e<=991?await Promise.all([anime({targets:t,before:()=>{t.style.display="flex",t.style.width=`${navigationWidth}px`,t.style.position="fixed"},translateX:[`${a}px`,`-${o}px`],easing:"spring(1, 93, 15, 5)",complete:()=>{t.style.transform="none",t.style.position="",t.style.display="",t.style.width=""}}).finished,anime({targets:n,translateX:[`${o}px`,"0px"],easing:"spring(1, 93, 15, 5)",complete:()=>{n.style.transform="none"}}).finished,anime({targets:s,opacity:[0,1],easing:"easeInOutQuad",duration:250}).finished,anime({targets:r,opacity:[1,0],easing:"easeInOutQuad",duration:200}).finished,anime({targets:l,opacity:[0,1],easing:"easeInOutQuad",duration:250}).finished,anime({targets:i,rotate:[12,0],translateY:["150%","0%"],easing:"spring(.7, 95, 8, 0)",before:()=>{i.style.display="flex"}}).finished]):await Promise.all([anime({targets:t,translateX:[`${a}px`,"0px"],easing:"spring(1, 93, 15, 5)",complete:()=>{t.style.transform="none"}}).finished,anime({targets:n,translateX:["50%","0%"],easing:"spring(1, 93, 15, 5)",complete:()=>{n.style.transform="none"}}).finished,anime({targets:s,opacity:[0,1],easing:"easeInOutQuad",duration:250}).finished,anime({targets:r,opacity:[1,0],easing:"easeInOutQuad",duration:200}).finished,anime({targets:l,opacity:[0,1],easing:"easeInOutQuad",duration:250}).finished,anime({targets:i,rotate:[12,0],translateY:["150%","0%"],easing:"spring(.7, 95, 8, 0)",before:()=>{i.style.display="flex"}}).finished])}},{from:"/project(.*)",to:"/",in:async()=>{const e=window.innerWidth,t=document.getElementsByClassName("navigation-column").item(0),n=t.offsetWidth,a=document.getElementsByClassName("project-container").item(0),i=(e-n)/2,o=document.querySelector(".mobile-back-button"),s=n+i,r=document.querySelector("#project-controller"),l=document.querySelector("#project-controller + #project-controller"),c=document.querySelector("#active");e<=991?await Promise.all([anime({targets:t,before:()=>{t.style.position="fixed",t.style.width=`${n}px`},translateX:[`-${s}px`,`${i}px`],easing:"spring(1, 93, 15, 5)",complete:()=>{t.style.transform="translateX(-50%) translateX(50vw)",t.style.position="",t.style.display="",t.style.width=""}}).finished,anime({targets:a,translateX:["0px",`${s}px`],easing:"spring(1, 93, 15, 5)",complete:()=>{a.style.transform="translateX(calc(-40% + 60vw))"}}).finished,anime({targets:r,opacity:[0,1],easing:"easeInOutQuad",duration:250}).finished,anime({targets:l,opacity:[1,0],easing:"easeInOutQuad",duration:200}).finished,anime({targets:c,opacity:[1,0],easing:"easeInOutQuad",duration:250}).finished,anime({targets:o,rotate:[0,12],translateY:["0%","150%"],easing:"spring(.7, 95, 8, 0)",before:()=>{o.style.display="none"}}).finished]):await Promise.all([anime({targets:t,translateX:["0px",`${i}px`],easing:"spring(1, 93, 15, 5)",complete:()=>{t.style.transform="translateX(-50%) translateX(50vw)"}}).finished,anime({targets:a,translateX:["0%","50%"],easing:"spring(1, 93, 15, 5)",complete:()=>{a.style.transform="translateX(50%)"}}).finished,anime({targets:r,opacity:[0,1],easing:"easeInOutQuad",duration:250}).finished,anime({targets:l,opacity:[1,0],easing:"easeInOutQuad",duration:200}).finished,anime({targets:c,opacity:[1,0],easing:"easeInOutQuad",duration:250}).finished,anime({targets:o,rotate:[0,12],translateY:["0%","150%"],easing:"spring(.7, 95, 8, 0)",before:()=>{o.style.display="none"}}).finished])}},{from:"/project(.*)",to:"/project(.*)",in:async()=>{const e=document.querySelector("#project-controller"),t=document.querySelector("#project-controller + #project-controller"),n=document.querySelector("#active");await Promise.all([anime({targets:e,opacity:{value:[0,1],easing:"easeInOutQuad",duration:250},translateX:{value:["75%","0%"],easing:"spring(1, 93, 16, 5)"}}).finished,anime({targets:t,opacity:{value:[1,0],easing:"easeInOutQuad",duration:200},translateX:{value:["0%","75%"],easing:"spring(1, 93, 16, 5)"}}).finished,anime({targets:n,opacity:[0,1],easing:"easeInOutQuad",duration:250}).finished])}}]})]});swup.hooks.on("page:view",()=>{setTimeout(()=>{updateNavigationWidth()},100)}),document.addEventListener("DOMContentLoaded",function(){initializeOverlay()}),swup.hooks.on("page:view",e=>{initializeOverlay()});const elm=document.querySelector(".project-container");elm.addEventListener("scroll",ScrollBarProgress);